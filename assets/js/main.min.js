const menu_hamburguer=document.querySelector(".icon-mobile"),menu=document.querySelector(".header-menu__mobile"),form=document.getElementById("formContato"),toast_container=document.querySelector(".contact-toast"),toast_icon=document.querySelector(".toast-icon"),toast_message=document.querySelector(".toast-message"),button_enviar_form=document.querySelector(".enviar-form"),input_telephone=document.querySelector('input[name="telephone"]'),BASE_URL=window.location.origin;function removeToast(e=3e3){setTimeout(function(){toast_container.style.display="none"},e)}function Toast(e,t){var a,n;"danger"!=e&&"success"!=e||(n=(a="danger"==e)?"success":"danger",toast_container.classList.remove(n),toast_container.classList.add(e),toast_message.innerHTML=t,toast_icon.innerHTML=a?'<i class="fa-solid fa-close"></i>':'<i class="fa-solid fa-check"></i>',toast_container.style.display="flex",removeToast())}async function sendEmail(e){e.preventDefault(),button_enviar_form.innerHTML='<img src="./assets/img/load.svg" alt="Carregando...">',button_enviar_form.disabled=!0;e=new FormData(this),e=JSON.stringify(Object.fromEntries(e));const t=await fetch(BASE_URL+"/api/send_email",{body:e,headers:{"Content-Type":"application/json"},method:"POST"});e=await t.json();button_enviar_form.innerHTML="Enviar",button_enviar_form.disabled=!1,Toast(e.tipo,e.mensagem)}function mask(){let e=this;setTimeout(function(){e.value=maskTel(e.value)},1)}function maskTel(e){return e=(e=(e=e.replace(/\D/g,"")).replace(/^(\d{2})(\d)/g,"($1) $2")).replace(/(\d)(\d{4})$/,"$1-$2")}menu_hamburguer.addEventListener("click",()=>{var e=menu.classList.toggle("header-menu__mobile--active");const t=menu_hamburguer.querySelector("i");if(!e)return t.classList.remove("fa-xmark"),void t.classList.add("fa-bars");t.classList.remove("fa-bars"),t.classList.add("fa-xmark")}),input_telephone.addEventListener("keyup",mask),form.addEventListener("submit",sendEmail);